<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodEditor | V30 ULTRA BEAST EDITION</title>
    
    <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.23.0/ace.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.23.0/ext-language_tools.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-database-compat.js"></script>

    <style>
        /* SÄ°STEMÄ°N KALBÄ° - GELÄ°ÅžMÄ°Åž CSS */
        :root {
            --accent: #00ff41;
            --bg: #000;
            --owner: #ff00c8;
            --member: #00d4ff;
            --warn: #ffcc00;
            --error: #ff4444;
            --py-blue: #3776ab;
            --panel-bg: rgba(10, 10, 10, 0.95);
            --border-glow: 0 0 15px rgba(0, 255, 65, 0.3);
        }

        body, html {
            margin: 0; padding: 0; background: var(--bg); color: white;
            font-family: 'Courier New', monospace; overflow: hidden; height: 100vh;
        }

        /* EFSANEVÄ° RGB Ã‡ERÃ‡EVE SÄ°STEMÄ° */
        .rgb-frame {
            position: fixed; inset: 0; z-index: 9999; pointer-events: none;
            border: 6px solid;
            border-image: linear-gradient(45deg, #f00, #ff0, #0f0, #0ff, #00f, #f0f, #f00) 1;
            animation: borderRotate 4s linear infinite;
        }
        @keyframes borderRotate { 0% { filter: hue-rotate(0deg); } 100% { filter: hue-rotate(360deg); } }

        /* GÄ°RÄ°Åž EKRANI - SARI KURALLAR VE NEON TASARIM */
        #auth-screen {
            position: fixed; inset: 0; background: #000; z-index: 10000;
            display: flex; justify-content: center; align-items: center;
            background-image: radial-gradient(circle, #001a00 0%, #000 100%);
        }

        .auth-box {
            border: 3px solid var(--accent); padding: 50px; width: 550px;
            text-align: center; background: var(--panel-bg); border-radius: 25px;
            box-shadow: 0 0 100px rgba(0, 255, 65, 0.2); position: relative;
        }

        .yellow-rules {
            color: var(--warn); font-size: 13px; border: 2px dashed var(--warn);
            padding: 25px; margin: 30px 0; text-align: left;
            background: rgba(255, 204, 0, 0.07); line-height: 1.8;
            box-shadow: inset 0 0 15px rgba(255, 204, 0, 0.1);
        }

        .auth-input {
            width: 100%; padding: 18px; margin-bottom: 20px;
            background: #050505; border: 1px solid #333; color: var(--accent);
            border-radius: 12px; font-weight: bold; font-size: 16px; outline: none;
            transition: 0.3s;
        }
        .auth-input:focus { border-color: var(--accent); box-shadow: 0 0 15px var(--accent); }

        .auth-btn {
            width: 100%; padding: 20px; background: var(--accent); color: black;
            border: none; border-radius: 12px; font-weight: 900; font-size: 18px;
            cursor: pointer; text-transform: uppercase; transition: 0.5s;
        }
        .auth-btn:hover { background: #fff; box-shadow: 0 0 30px #fff; transform: scale(1.02); }

        /* HEADER VE ARAÃ‡ Ã‡UBUÄžU */
        header {
            padding: 15px 40px; background: #050505; border-bottom: 2px solid #111;
            display: flex; justify-content: space-between; align-items: center;
            position: relative; z-index: 1001;
        }

        .nav-btn {
            background: #000; color: var(--accent); border: 1px solid var(--accent);
            padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: bold;
            transition: 0.3s; font-size: 12px;
        }
        .nav-btn:hover { background: var(--accent); color: #000; box-shadow: var(--border-glow); }

        /* ANA EKRAN YERLEÅžÄ°MÄ° */
        main { display: flex; height: calc(100vh - 120px); overflow: hidden; position: relative; }

        /* SOL PANEL: SÄ°STEM LOGLARI */
        #log-panel {
            width: 250px; background: #030303; border-right: 1px solid #111;
            padding: 15px; display: flex; flex-direction: column; gap: 10px;
        }
        .log-entry { font-size: 10px; color: #555; border-bottom: 1px solid #080808; padding-bottom: 5px; }
        .log-entry b { color: var(--accent); }

        #editor { flex: 1; font-size: 16px; background: #000 !important; }

        /* SAÄž PANEL: CHAT */
        #sidebar {
            width: 380px; background: #050505; border-left: 2px solid #111;
            display: flex; flex-direction: column; padding: 20px;
        }
        #chat-box {
            flex: 1; overflow-y: auto; background: #010101; border: 1px solid #111;
            padding: 15px; border-radius: 12px; margin-bottom: 15px; font-size: 12px;
        }

        /* PYTHON TERMINAL PANELÄ° */
        #terminal {
            position: absolute; bottom: 50px; left: 270px; right: 400px;
            height: 300px; background: rgba(0,0,0,0.98); border: 2px solid var(--py-blue);
            border-radius: 15px; z-index: 5000; display: none; flex-direction: column;
            box-shadow: 0 0 50px rgba(0,0,0,1);
        }
        .term-header {
            background: var(--py-blue); padding: 12px 20px; font-weight: bold;
            display: flex; justify-content: space-between; border-radius: 12px 12px 0 0;
        }

        /* ALT REKLAM VE BÄ°LGÄ° ÅžERÄ°DÄ° */
        footer {
            background: #050505; border-top: 2px solid #111; height: 50px;
            display: flex; align-items: center; overflow: hidden;
        }
        .marquee {
            white-space: nowrap; animation: scroll 40s linear infinite;
            font-weight: 900; font-size: 16px; color: var(--accent);
        }
        @keyframes scroll { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        .neon { text-shadow: 0 0 10px var(--accent); }
    </style>
</head>
<body>

<div class="rgb-frame"></div>

<div id="auth-screen">
    <div class="auth-box">
        <h1 class="neon" style="font-size: 40px; margin: 0;">KERNEL_V30</h1>
        <p style="color:#444; margin-top:0;">ULTRA MASTER BEAST EDITION</p>
        
        <div class="yellow-rules">
            <b style="color:var(--warn)">[ !!! SARI KURALLAR / SYSTEM RULES !!! ]</b><br>
            â€¢ Instagram: <b>@rw_f00t</b> - SÄ°STEM SAHÄ°BÄ° TAKÄ°BÄ° ZORUNLUDUR.<br>
            â€¢ AYNI KULLANICI ADIYLA MULTI-LOGIN AKTÄ°FTÄ°R.<br>
            â€¢ CHAT VERÄ°LERÄ° HER 10 DAKÄ°KADA BÄ°R KERNEL TARAFINDAN SÄ°LÄ°NÄ°R.<br>
            â€¢ PYTHON V3.11 ENGINE (PYODIDE) TARAYICI TABANLI Ã‡ALIÅžIR.<br>
            â€¢ KODLARI KAYDETMEDEN Ã–NCE UZANTIYI KONTROL EDÄ°NÄ°Z.
        </div>

        <input type="text" id="user-name" class="auth-input" placeholder="ACCESS_ID">
        <input type="password" id="user-pass" class="auth-input" placeholder="SECURITY_KEY">
        <button class="auth-btn" onclick="initializeSystem()">CORE SÄ°STEME SIZ</button>
    </div>
</div>

<header>
    <div class="neon" style="font-weight: 900; font-size: 20px;">> ROOT@BERK:~/WORKSPACE_V30</div>
    <div style="display: flex; gap: 12px; align-items: center;">
        <button id="run-py-btn" class="nav-btn" style="background:var(--py-blue); color:white; border:none; display:none;" onclick="runCode()">â–¶ EXECUTE PYTHON</button>
        <button id="dl-btn" class="nav-btn" style="border-color:var(--warn); color:var(--warn);" onclick="downloadSource()">ðŸ“¥ DOWNLOAD (.py)</button>
        <select id="lang-select" onchange="updateMode()" class="nav-btn">
            <option value="python">Python</option>
            <option value="c_cpp">C++</option>
            <option value="csharp">C#</option>
            <option value="java">Java</option>
            <option value="javascript">JavaScript</option>
            <option value="html">HTML</option>
            <option value="php">PHP</option>
            <option value="sql">SQL</option>
        </select>
    </div>
</header>

<main>
    <div id="log-panel">
        <div class="log-entry"><b>[SYS]</b> Kernel loading...</div>
        <div class="log-entry"><b>[NET]</b> Firebase sync active.</div>
        <div class="log-entry"><b>[SEC]</b> Yellow Rules applied.</div>
        <div class="log-entry"><b>[PY]</b> Ready for execution.</div>
    </div>

    <div id="editor"># V30 ULTRA MASTER FINAL
# Instagram: @rw_f00t

def system_check():
    print("V30 Beast System Online...")
    print("Sari Kurallar Onaylandi.")

system_check()</div>

    <div id="terminal">
        <div class="term-header">
            <span>CORE_TERMINAL</span>
            <span onclick="toggleTerm(false)" style="cursor:pointer;">[CLOSE]</span>
        </div>
        <div id="term-out" style="padding:20px; overflow-y:auto; flex:1; color:var(--accent); font-size:14px;"></div>
    </div>

    <div id="sidebar">
        <div id="chat-box"></div>
        <input type="text" id="chat-inp" class="auth-input" style="margin:0; padding:12px;" placeholder="Global mesaj...">
    </div>
</main>

<footer>
    <div class="marquee neon">
        +++ SYSTEM STATUS: OPTIMIZED +++ VERSION: V30 ULTRA BEAST +++ OWNER: @RW_F00T +++ NEW PYTHON ENGINE ACTIVE +++ 
        +++ GLOBAL CHAT ONLINE +++ MULTI-LANGUAGE SUPPORT ENABLED +++ SARI KURALLAR GEÃ‡ERLÄ°DÄ°R +++ 
    </div>
</footer>

<script>
    // FÄ°REBASE VE SÄ°STEM AYARLARI
    const config = { apiKey: "AIzaSyDpaFcKI6XhYuWCiyZHUFey0T6uqKy8IPA", authDomain: "prem-d18e3.firebaseapp.com", databaseURL: "https://prem-d18e3-default-rtdb.firebaseio.com", projectId: "prem-d18e3", storageBucket: "prem-d18e3.firebasestorage.app", messagingSenderId: "828611092580", appId: "1:828611092580:web:5f8e2c7c501c63a2d73f71" };
    firebase.initializeApp(config); const db = firebase.database();

    let pyEngine = null;
    async function loadPython() {
        pyEngine = await loadPyodide();
        document.getElementById("run-py-btn").style.display = "block";
        pushLog("Python Engine Loaded.");
    }
    loadPython();

    const editor = ace.edit("editor");
    editor.setTheme("ace/theme/terminal");
    editor.session.setMode("ace/mode/python");

    const dict = { python:".py", c_cpp:".cpp", csharp:".cs", java:".java", javascript:".js", html:".html", php:".php", sql:".sql" };

    function initializeSystem() {
        if(document.getElementById("user-name").value !== "") {
            document.getElementById("auth-screen").style.fadeOut = "slow";
            document.getElementById("auth-screen").style.display = "none";
            pushLog("User Session Started.");
        }
    }

    function pushLog(m) {
        const p = document.getElementById("log-panel");
        const d = document.createElement("div");
        d.className = "log-entry";
        d.innerHTML = `<b>[${new Date().toLocaleTimeString()}]</b> ${m}`;
        p.prepend(d);
    }

    function updateMode() {
        const val = document.getElementById("lang-select").value;
        editor.session.setMode("ace/mode/" + val);
        document.getElementById("run-py-btn").style.display = (val === 'python') ? 'block' : 'none';
        document.getElementById("dl-btn").innerText = `ðŸ“¥ DOWNLOAD (${dict[val] || ".txt"})`;
        pushLog("Env changed to " + val);
    }

    async function runCode() {
        toggleTerm(true);
        const out = document.getElementById("term-out");
        out.innerText = ">> Executing Code...\n";
        try {
            await pyEngine.runPythonAsync(`import sys, io\nsys.stdout = io.StringIO()`);
            await pyEngine.runPythonAsync(editor.getValue());
            out.innerText = pyEngine.runPython("sys.stdout.getvalue()") || ">> Execution finished (No output).";
            pushLog("Python script executed.");
        } catch (e) { out.innerText = ">> CRITICAL_ERROR:\n" + e; pushLog("Execution failed!"); }
    }

    function downloadSource() {
        const val = document.getElementById("lang-select").value;
        const b = new Blob([editor.getValue()], {type: "text/plain"});
        const a = document.createElement("a");
        a.href = URL.createObjectURL(b);
        a.download = "source" + (dict[val] || ".txt");
        a.click();
        pushLog("File downloaded.");
    }

    function toggleTerm(s) { document.getElementById("terminal").style.display = s ? "flex" : "none"; }
</script>
</body>
</html>
