<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <title>CodEditor | V40 GOD MODE - SYSTEM OVERLORD</title>
    
    <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.23.0/ace.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.23.0/ext-language_tools.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-database-compat.js"></script>

    <style>
        /* ==============================================
           SÄ°STEM TEMEL AYARLARI VE DEÄžÄ°ÅžKENLER (CSS)
           ==============================================
        */
        :root {
            --primary: #00d4ff; /* Ãœye Mavisi */
            --admin-neon: #00ff41; /* Admin YeÅŸili */
            --bg-deep: #020202;
            --bg-panel: #0a0a0a;
            --text-main: #e0e0e0;
            --text-dim: #555;
            --danger: #ff003c;
            --warning: #ffcc00;
            --ai-purple: #b080ff;
            --border-color: #1a1a1a;
            --matrix-glow: rgba(0, 212, 255, 0.2);
        }

        /* ADMIN MODU AKTÄ°FLEÅžTÄ°ÄžÄ°NDE RENKLER DEÄžÄ°ÅžÄ°R */
        body.admin-root-active {
            --primary: var(--admin-neon);
            --matrix-glow: rgba(0, 255, 65, 0.2);
        }

        /* GENEL SIFIRLAMA VE ANTÄ°-SELECTION */
        * {
            box-sizing: border-box;
            outline: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none; /* Metin seÃ§imi yasaklandÄ± */
        }

        /* SADECE EDÄ°TÃ–R VE GÄ°RDÄ° ALANLARINDA YAZI SEÃ‡Ä°MÄ°NE Ä°ZÄ°N VER */
        #ace-editor, .control-input, textarea, #term-body, .selectable {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }

        body, html {
            margin: 0; padding: 0; height: 100vh; width: 100vw;
            background-color: var(--bg-deep); color: var(--text-main);
            font-family: 'Courier New', monospace; overflow: hidden;
            display: flex; flex-direction: column;
        }

        /* ARKA PLAN TARAMA Ã‡Ä°ZGÄ°SÄ° EFEKTÄ° */
        body::before {
            content: " ";
            position: fixed; top: 0; left: 0; width: 100%; height: 2px;
            background: rgba(0, 212, 255, 0.1);
            z-index: 99999; pointer-events: none;
            animation: scanline 8s linear infinite;
        }

        @keyframes scanline {
            0% { top: 0; } 100% { top: 100%; }
        }

        /* --- [ SÄ°STEM Ã‡ERÃ‡EVESÄ° ] --- */
        .sys-border {
            position: fixed; inset: 0; border: 2px solid var(--primary);
            pointer-events: none; z-index: 10000;
            box-shadow: inset 0 0 30px rgba(0,0,0,1);
            transition: border-color 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* --- [ AUTH GATE - GÄ°RÄ°Åž EKRANI ] --- */
        #auth-gate {
            position: fixed; inset: 0; background: #000; z-index: 20000;
            display: flex; justify-content: center; align-items: center;
        }

        .auth-container {
            width: 600px; padding: 60px; background: var(--bg-panel);
            border: 4px solid var(--primary); border-radius: 30px;
            text-align: center; box-shadow: 0 0 150px var(--matrix-glow);
        }

        .auth-container h1 {
            font-size: 36px; color: var(--primary); margin: 0 0 10px 0;
            letter-spacing: 10px; text-shadow: 0 0 20px var(--primary);
        }

        .security-alert {
            background: rgba(255, 0, 0, 0.05); border: 1px dashed var(--danger);
            color: var(--danger); padding: 20px; margin: 30px 0;
            font-size: 13px; text-align: left; line-height: 1.6;
        }

        .auth-input {
            width: 100%; padding: 20px; margin-bottom: 20px; background: #000;
            border: 1px solid #222; color: #fff; font-size: 18px; border-radius: 10px;
            transition: 0.3s;
        }

        .auth-input:focus { border-color: var(--primary); box-shadow: 0 0 15px var(--primary); }

        .auth-btn {
            width: 100%; padding: 20px; background: var(--primary); color: #000;
            border: none; font-weight: 900; font-size: 20px; cursor: pointer;
            border-radius: 10px; text-transform: uppercase; transition: 0.4s;
        }

        .auth-btn:hover { background: #fff; transform: scale(1.02); }

        /* --- [ HEADER ] --- */
        header {
            height: 80px; background: #000; border-bottom: 3px solid var(--primary);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 40px; z-index: 5000;
        }

        .status-badge {
            background: #111; color: var(--text-dim); padding: 5px 15px;
            font-size: 11px; border-radius: 20px; border: 1px solid #222;
        }

        .nav-btn {
            background: transparent; color: var(--primary); border: 1px solid var(--primary);
            padding: 12px 25px; font-size: 12px; font-weight: 900; cursor: pointer;
            border-radius: 5px; transition: 0.3s; margin-left: 10px;
        }

        .nav-btn:hover { background: var(--primary); color: #000; }

        .admin-only-btn { background: var(--danger); color: white; border: none; display: none; }

        /* --- [ MAIN STRUCTURE ] --- */
        main { display: grid; grid-template-columns: 300px 1fr 420px; flex: 1; overflow: hidden; }

        /* SIDEBAR LOGS */
        .sidebar-logs {
            background: #020202; border-right: 1px solid var(--border-color);
            display: flex; flex-direction: column; padding: 25px; overflow-y: auto;
        }

        .log-line { font-size: 11px; margin-bottom: 8px; border-left: 2px solid var(--primary); padding-left: 10px; color: #777; }
        .log-line b { color: var(--primary); }

        /* EDITOR REGION */
        #editor-region { position: relative; background: #000; }
        #ace-editor { width: 100%; height: 100%; font-size: 17px; }

        /* TERMINAL AREA */
        #terminal-box {
            position: absolute; bottom: 0; width: 100%; height: 280px;
            background: rgba(0,0,0,0.98); border-top: 4px solid var(--primary);
            display: none; flex-direction: column; z-index: 1500;
        }

        .term-head { background: var(--primary); color: #000; padding: 10px 25px; font-weight: 900; display: flex; justify-content: space-between; }
        #term-body { flex: 1; padding: 25px; overflow-y: auto; color: var(--primary); font-size: 16px; line-height: 1.6; }

        /* TOOLS SIDEBAR */
        .tools-sidebar { background: #080808; border-left: 1px solid var(--border-color); display: flex; flex-direction: column; }
        .tool-panel { flex: 1; display: flex; flex-direction: column; padding: 25px; border-bottom: 1px solid var(--border-color); }
        .panel-header { font-size: 13px; font-weight: 900; color: var(--primary); margin-bottom: 15px; display: flex; justify-content: space-between; }
        .content-box { flex: 1; background: #000; border: 1px solid #1a1a1a; padding: 15px; overflow-y: auto; font-size: 13px; margin-bottom: 12px; border-radius: 8px; }

        .control-input { width: 100%; background: #111; border: 1px solid #333; color: #fff; padding: 12px; border-radius: 5px; font-size: 13px; }

        /* --- [ ADMIN MODAL PANEL ] --- */
        #admin-panel-ui {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 1000px; height: 750px; background: var(--bg-panel);
            border: 5px solid var(--admin-neon); z-index: 30000;
            display: none; flex-direction: column; padding: 50px; border-radius: 30px;
            box-shadow: 0 0 200px rgba(0, 255, 65, 0.3);
        }

        .admin-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; margin-top: 30px; }
        .admin-card { background: #111; border: 1px solid #222; padding: 25px; border-radius: 15px; text-align: center; }
        .admin-card h3 { color: var(--admin-neon); margin: 0; font-size: 14px; }
        .admin-card p { font-size: 28px; font-weight: 900; margin: 15px 0; }

        /* --- [ FOOTER ] --- */
        footer {
            height: 50px; background: #000; border-top: 1px solid var(--border-color);
            display: flex; align-items: center; overflow: hidden;
        }

        .marquee-text {
            white-space: nowrap; animation: slide 45s linear infinite;
            color: var(--primary); font-weight: 900; font-size: 14px; text-transform: uppercase;
        }

        @keyframes slide { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

    </style>
</head>
<body id="sys-body">

<div class="sys-border"></div>

<div id="auth-gate">
    <div class="auth-container">
        <h1>V40 OVERLORD</h1>
        <div class="security-alert">
            <b>[ GÃœVENLÄ°K PROTOKOLÃœ V4 ]</b><br><br>
            â€¢ Admin KimliÄŸi: <b>@rw_f00t</b><br>
            â€¢ GÃ¼venlik AnahtarÄ±: <b>f00t_99x_Root!</b><br>
            â€¢ TÃ¼m saÄŸ tÄ±k ve kopyalama iÅŸlemleri engellenmiÅŸtir.<br>
            â€¢ Kaynak koduna eriÅŸim teÅŸebbÃ¼sleri loglanacaktÄ±r.
        </div>
        <input type="text" id="uid" class="auth-input" placeholder="ERÄ°ÅžÄ°M KÄ°MLÄ°ÄžÄ°">
        <input type="password" id="ukey" class="auth-input" placeholder="GÃœVENLÄ°K ANAHTARI">
        <button class="auth-btn" onclick="startKernel()">SÄ°STEME GÄ°RÄ°Åž YAP</button>
        <div id="load-msg" style="margin-top:20px; font-size:12px; color:#444;">Motor hazÄ±rlandÄ±.</div>
    </div>
</div>

<div id="admin-panel-ui">
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <h1 style="color:var(--admin-neon); margin:0; letter-spacing:5px;">â™› GOD MODE CONTROL</h1>
        <button class="nav-btn" style="border-color:red; color:red;" onclick="toggleAdminUI()">PANELÄ° KAPAT</button>
    </div>

    <div class="admin-grid">
        <div class="admin-card">
            <h3>BAÄžLI KULLANICI</h3>
            <p id="usr-cnt">01</p>
        </div>
        <div class="admin-card">
            <h3>GÃœVENLÄ°K SEVÄ°YESÄ°</h3>
            <p style="color:var(--admin-neon);">MAKSÄ°MUM</p>
        </div>
        <div class="admin-card">
            <h3>CPU YÃœKÃœ (SÄ°M)</h3>
            <p>12%</p>
        </div>
    </div>

    <div style="margin-top:50px; display:grid; grid-template-columns: 1fr 1fr; gap:40px;">
        <div style="background:#050505; padding:30px; border-radius:20px; border:1px solid var(--admin-neon);">
            <h4 style="color:var(--admin-neon);">KÃœRESEL SÄ°STEM DUYURUSU</h4>
            <textarea id="adm-msg" class="control-input selectable" style="height:120px; border-color:var(--admin-neon);" placeholder="TÃ¼m kullanÄ±cÄ±lara kÄ±rmÄ±zÄ± uyarÄ± gÃ¶nder..."></textarea>
            <button class="auth-btn" style="margin-top:15px; font-size:14px; padding:15px;" onclick="broadcastAlert()">DUYURUYU YAYINLA</button>
        </div>
        <div style="background:#050505; padding:30px; border-radius:20px; border:1px solid var(--warning);">
            <h4 style="color:var(--warning);">KRÄ°TÄ°K Ä°ÅžLEMLER</h4>
            <div style="display:flex; flex-direction:column; gap:15px;">
                <button class="nav-btn" style="margin:0; width:100%;" onclick="clearSystemLogs()">LOGLARI SIFIRLA</button>
                <button class="nav-btn" style="margin:0; width:100%;" onclick="location.reload()">KERNAL REBOOT</button>
                <button class="nav-btn" style="margin:0; width:100%; border-color:var(--ai-purple); color:var(--ai-purple);" onclick="alert('AI Engine Refreshed.')">AI CORE RESET</button>
            </div>
        </div>
    </div>
</div>

<header>
    <div style="display:flex; align-items:center; gap:25px;">
        <span style="font-size:26px; font-weight:900; color:var(--primary); letter-spacing:3px;">SYSTEM_V40</span>
        <span id="role-tag" class="status-badge">UNVERIFIED</span>
    </div>

    <div style="display:flex; align-items:center;">
        <button id="adm-btn" class="nav-btn admin-only-btn" onclick="toggleAdminUI()">â™› ADMIN PANEL</button>
        <button class="nav-btn" onclick="alert('V40 Rehber: Python seÃ§iliyken RUN aktiftir. TÃ¼m sistem kilitlidir.')">REHBER</button>
        <select id="lang-set" class="nav-btn" style="background:#000;" onchange="updateMode()">
            <option value="python">Python 3.11</option>
            <option value="javascript">JavaScript (ES6)</option>
            <option value="html">HTML / CSS</option>
        </select>
        <button id="run-cmd" class="nav-btn" style="background:var(--primary); color:black; display:none;" onclick="runSource()">â–¶ Ã‡ALIÅžTIR</button>
        <button class="nav-btn" style="border-color:var(--warning); color:var(--warning);" onclick="exportFile()">ðŸ“¥ KAYDET</button>
    </div>
</header>

<main>
    <div class="sidebar-logs" id="log-view">
        <div class="log-line"><b>[SYS]</b> Kernel loading...</div>
        <div class="log-line"><b>[SEC]</b> Anti-Inspect active.</div>
    </div>

    <div id="editor-region">
        <div id="ace-editor"># V40 GOD MODE EDITION
# Instagram: @rw_f00t
# GÃ¼venlik ProtokolÃ¼: %100

print("Omnipotent komuta merkezi aktif.")</div>

        <div id="terminal-box">
            <div class="term-head">
                <span>SYSTEM_CONSOLE_OUTPUT</span>
                <span style="cursor:pointer;" onclick="toggleTerm(false)">[X]</span>
            </div>
            <div id="term-body" class="selectable">>> Kernel online. Bekleniyor...</div>
        </div>
    </div>

    <div class="tools-sidebar">
        <div class="tool-panel">
            <div class="panel-header">GLOBAL NETWORK CHAT</div>
            <div id="chat-stream" class="content-box selectable"></div>
            <div style="display:flex; gap:10px;">
                <input type="text" id="chat-msg" class="control-input selectable" placeholder="Mesaj yaz...">
                <button class="nav-btn" style="margin:0; padding:10px 15px;" onclick="sendToNetwork()">></button>
            </div>
        </div>

        <div class="tool-panel" style="background: rgba(176, 128, 255, 0.02);">
            <div class="panel-header" style="color:var(--ai-purple);">AI_SYNTAX_ASSISTANT</div>
            <div id="ai-stream" class="content-box selectable" style="border-color:var(--ai-purple); color:var(--ai-purple);">AI: Sistem hazÄ±r. Kodlama hakkÄ±nda her ÅŸeyi sorabilirsin.</div>
            <div style="display:flex; gap:10px;">
                <input type="text" id="ai-query" class="control-input selectable" style="border-color:var(--ai-purple);" placeholder="AI'ya danÄ±ÅŸ...">
                <button class="nav-btn" style="margin:0; border-color:var(--ai-purple); color:var(--ai-purple);" onclick="askAssistant()">?</button>
            </div>
        </div>
    </div>
</main>

<footer>
    <div class="marquee-text">
        +++ SYSTEM STATUS: STABLE +++ SECURITY LAYER: GOD MODE +++ ENCRYPTION: AES-512 +++ ALL FUNCTIONS OPERATIONAL +++ INSTAGRAM: @RW_F00T +++ KERNEL V40.1 +++ NO UNAUTHORIZED ACCESS +++
    </div>
</footer>

<script>
    /* ==============================================
       ANTÄ°-DENETLEME VE GÃœVENLÄ°K MOTORU (SÃœPER KORUMA)
       ==============================================
    */
    
    // 1. SaÄŸ TÄ±k Engelleme
    document.addEventListener('contextmenu', e => e.preventDefault());

    // 2. KÄ±sayol TuÅŸlarÄ±nÄ± Kapatma (F12, Ctrl+U, Ctrl+Shift+I vb.)
    document.onkeydown = function(e) {
        // F12 tuÅŸu
        if (e.keyCode == 123) return false;
        // Ctrl + Shift + I (Denetle)
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) return false;
        // Ctrl + Shift + J (Konsol)
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) return false;
        // Ctrl + U (Kaynak Kod)
        if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) return false;
        // Ctrl + S (Kaydet)
        if (e.ctrlKey && e.keyCode == 'S'.charCodeAt(0)) return false;
    };

    // 3. SÃ¼rÃ¼klemeyi Engelleme
    document.addEventListener('dragstart', e => e.preventDefault());

    /* ==============================================
       SÄ°STEM Ã‡EKÄ°RDEÄžÄ° VE FONKSÄ°YONLAR
       ==============================================
    */

    // Firebase AyarlarÄ±
    const fbCfg = {
        apiKey: "AIzaSyDpaFcKI6XhYuWCiyZHUFey0T6uqKy8IPA",
        databaseURL: "https://prem-d18e3-default-rtdb.firebaseio.com",
        projectId: "prem-d18e3"
    };
    firebase.initializeApp(fbCfg);
    const rtdb = firebase.database();

    let pyEngine = null;
    let username = "Guest";
    let rootEnabled = false;

    // Ace Editor BaÅŸlatma
    const editor = ace.edit("ace-editor");
    editor.setTheme("ace/theme/terminal");
    editor.session.setMode("ace/mode/python");
    editor.setOptions({
        enableBasicAutocompletion: true,
        enableLiveAutocompletion: true,
        showPrintMargin: false,
        fontFamily: "Courier New"
    });

    // Python YÃ¼kleme (Pyodide)
    async function initPython() {
        try {
            updateLogs("Python engine loading...", "INIT");
            pyEngine = await loadPyodide();
            document.getElementById("run-cmd").style.display = "inline-block";
            document.getElementById("load-msg").innerText = "Kernel BaÅŸlatÄ±ldÄ±.";
            document.getElementById("load-msg").style.color = "#00ff41";
            updateLogs("Python 3.11 Ready.", "SUCCESS");
        } catch (e) {
            updateLogs("Python Load Failed!", "ERROR");
        }
    }
    initPython();

    // GiriÅŸ ProtokolÃ¼
    function startKernel() {
        const id = document.getElementById("uid").value;
        const key = document.getElementById("ukey").value;

        if(!id) return alert("Kimlik belirtilmedi!");

        username = id;

        // ADMIN KONTROLÃœ
        if(id === "@rw_f00t" && key === "f00t_99x_Root!") {
            rootEnabled = true;
            document.body.classList.add("admin-root-active");
            document.getElementById("role-tag").innerText = "â™› ROOT ADMIN";
            document.getElementById("role-tag").style.color = "#00ff41";
            document.getElementById("adm-btn").style.display = "block";
            updateLogs("ADMIN ACCESS GRANTED.", "SEC");
        } else {
            document.getElementById("role-tag").innerText = "MEMBER";
            updateLogs("User Session: " + id, "AUTH");
        }

        document.getElementById("auth-gate").style.display = "none";
    }

    // Kod Ã‡alÄ±ÅŸtÄ±rma
    async function runSource() {
        toggleTerm(true);
        const out = document.getElementById("term-body");
        out.innerText = ">> Executing code...\n";

        try {
            await pyEngine.runPythonAsync(`import sys, io\nsys.stdout = io.StringIO()`);
            await pyEngine.runPythonAsync(editor.getValue());
            const result = pyEngine.runPython("sys.stdout.getvalue()");
            out.innerText = result || ">> Execution finished (No output).";
            updateLogs("Code executed.", "PY");
        } catch (e) {
            out.innerText = ">> RUNTIME ERROR:\n" + e;
            updateLogs("Execution error!", "ERR");
        }
    }

    // Chat Sistemi
    function sendToNetwork() {
        const inp = document.getElementById("chat-msg");
        if(inp.value) {
            rtdb.ref("v40_global_chat").push({
                u: username,
                m: inp.value,
                adm: rootEnabled
            });
            inp.value = "";
        }
    }

    rtdb.ref("v40_global_chat").limitToLast(30).on("value", snap => {
        const stream = document.getElementById("chat-stream");
        stream.innerHTML = "";
        snap.forEach(child => {
            const data = child.val();
            const color = data.adm ? "var(--admin-neon)" : "var(--primary)";
            stream.innerHTML += `<div><b style="color:${color}">${data.adm?'[ROOT] ':''}${data.u}:</b> ${data.m}</div>`;
        });
        stream.scrollTop = stream.scrollHeight;
    });

    // Duyuru Sistemi
    function broadcastAlert() {
        const m = document.getElementById("adm-msg").value;
        if(m) {
            rtdb.ref("v40_system_alert").set({ text: m, time: Date.now() });
            document.getElementById("adm-msg").value = "";
            alert("Sistem duyurusu gÃ¶nderildi.");
        }
    }

    rtdb.ref("v40_system_alert").on("value", snap => {
        const val = snap.val();
        if(val) {
            const box = document.createElement("div");
            box.style = "position:fixed; top:50px; left:50%; transform:translateX(-50%); background:red; color:white; padding:25px; z-index:55000; border:3px solid white; font-weight:bold; text-align:center; box-shadow:0 0 100px #000;";
            box.innerHTML = `!!! KRÄ°TÄ°K SÄ°STEM MESAJI !!!<br><br>${val.text}<br><br><button onclick="this.parentElement.remove()" style="padding:10px 20px; cursor:pointer;">ANLADIM</button>`;
            document.body.appendChild(box);
        }
    });

    // Yapay Zeka
    function askAssistant() {
        const q = document.getElementById("ai-query");
        const s = document.getElementById("ai-stream");
        if(!q.value) return;

        const msg = q.value;
        s.innerHTML += `<div style="color:#fff; margin-top:10px;">> ${msg}</div>`;
        s.innerHTML += `<div id="typing">AI analiz ediyor...</div>`;
        s.scrollTop = s.scrollHeight;
        q.value = "";

        setTimeout(() => {
            const typing = document.getElementById("typing");
            if(typing) typing.remove();
            let res = "AI: Kod yapÄ±sÄ± V40 standartlarÄ±na uygun.";
            if(msg.toLowerCase().includes("hata")) res = "AI: LÃ¼tfen terminaldeki Traceback Ã§Ä±ktÄ±sÄ±nÄ± kontrol edin.";
            s.innerHTML += `<div>${res}</div>`;
            s.scrollTop = s.scrollHeight;
        }, 1500);
    }

    // YardÄ±mcÄ±lar
    function updateLogs(m, t="INFO") {
        const v = document.getElementById("log-view");
        const time = new Date().toLocaleTimeString();
        v.innerHTML = `<div class="log-line"><b>[${t}]</b> [${time}] ${m}</div>` + v.innerHTML;
    }

    function toggleAdminUI() {
        const p = document.getElementById("admin-panel-ui");
        p.style.display = (p.style.display === "flex") ? "none" : "flex";
    }

    function toggleTerm(state) {
        document.getElementById("terminal-box").style.display = state ? "flex" : "none";
    }

    function updateMode() {
        const l = document.getElementById("lang-set").value;
        editor.session.setMode("ace/mode/" + l);
        document.getElementById("run-cmd").style.display = (l === "python") ? "inline-block" : "none";
    }

    function clearSystemLogs() {
        document.getElementById("log-view").innerHTML = `<div class="log-line"><b>[SYS]</b> Logs cleared by Overlord.</div>`;
    }

    function exportFile() {
        const blob = new Blob([editor.getValue()], {type: "text/plain"});
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "v40_source_" + Date.now() + ".py";
        link.click();
    }
</script>
</body>
</html>
