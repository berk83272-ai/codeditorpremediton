<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>CodEditor | V29 LEGACY REBORN</title>
    
    <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.23.0/ace.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.23.0/ext-language_tools.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-database-compat.js"></script>

    <style>
        :root {
            --accent: #00ff41; --bg: #000; --owner: #ff00c8; --member: #00d4ff; 
            --warn: #ffcc00; --error: #ff4444; --py-blue: #3776ab;
        }

        body {
            margin: 0; padding: 0; background: var(--bg); color: white;
            font-family: 'Courier New', monospace; overflow: hidden; height: 100vh;
            display: flex; flex-direction: column;
        }

        /* RGB Ã‡ERÃ‡EVE */
        body::before {
            content: ""; position: fixed; inset: 0; z-index: 9999; pointer-events: none;
            border: 4px solid; border-image: linear-gradient(90deg, #f00, #ff0, #0f0, #0ff, #00f, #f0f, #f00) 1;
            animation: borderRotate 5s linear infinite;
        }
        @keyframes borderRotate { 0% { filter: hue-rotate(0deg); } 100% { filter: hue-rotate(360deg); } }

        /* GÄ°RÄ°Åž EKRANI - SARI KURALLAR BURADA */
        #auth-screen {
            position: fixed; inset: 0; background: #000; z-index: 10000;
            display: flex; justify-content: center; align-items: center;
        }

        .auth-box {
            border: 3px solid var(--accent); padding: 50px; width: 550px;
            text-align: center; background: #050505; border-radius: 20px;
            box-shadow: 0 0 50px rgba(0, 255, 65, 0.4);
        }

        .yellow-rules {
            color: var(--warn); font-size: 13px; border: 2px dashed var(--warn);
            padding: 20px; margin-bottom: 25px; text-align: left;
            background: rgba(255, 204, 0, 0.05); line-height: 1.6;
        }

        .auth-input {
            width: 100%; padding: 15px; margin-bottom: 15px;
            background: #111; border: 1px solid #333; color: var(--accent);
            border-radius: 8px; font-weight: bold; box-sizing: border-box;
        }

        .auth-btn {
            width: 100%; padding: 15px; background: var(--accent); color: black;
            border: none; border-radius: 8px; font-weight: 900; cursor: pointer;
            text-transform: uppercase; transition: 0.3s;
        }
        .auth-btn:hover { background: #00cc33; box-shadow: 0 0 20px var(--accent); }

        /* HEADER */
        header {
            padding: 15px 30px; background: #0a0a0a; border-bottom: 2px solid #1a1a1a;
            display: flex; justify-content: space-between; align-items: center;
        }

        .nav-btn {
            background: #111; color: var(--accent); border: 1px solid var(--accent);
            padding: 10px 15px; border-radius: 5px; cursor: pointer; font-weight: bold;
        }

        /* MAIN & TERMINAL */
        #main-container { display: flex; flex: 1; overflow: hidden; position: relative; }
        #editor { flex: 1; font-size: 16px; background: #000 !important; }
        #sidebar { width: 350px; background: #050505; border-left: 1px solid #1a1a1a; display: flex; flex-direction: column; padding: 20px; }
        #chat-box { flex: 1; overflow-y: auto; background: #020202; border: 1px solid #111; padding: 15px; border-radius: 10px; margin-bottom: 15px; font-size: 12px; }

        #python-console {
            position: absolute; bottom: 80px; left: 50%; transform: translateX(-50%);
            width: 650px; height: 280px; background: rgba(0,0,0,0.95);
            border: 2px solid var(--py-blue); border-radius: 15px; z-index: 5000;
            display: none; flex-direction: column;
        }

        /* REKLAM ÅžERÄ°DÄ° (MARQUEE) - GERÄ° GELDÄ°! */
        .marquee-footer {
            background: #050505; border-top: 2px solid #1a1a1a; height: 45px;
            display: flex; align-items: center; overflow: hidden; z-index: 1001;
        }

        .marquee-text {
            white-space: nowrap; animation: scroll-text 30s linear infinite;
            font-weight: 900; font-size: 15px; color: var(--accent);
        }

        @keyframes scroll-text { from { transform: translateX(100%); } to { transform: translateX(-100%); } }

        .neon-text { animation: neon-glow 2s ease-in-out infinite alternate; }
        @keyframes neon-glow { from { text-shadow: 0 0 5px #fff, 0 0 10px var(--accent); } to { text-shadow: 0 0 10px #fff, 0 0 20px var(--accent); } }
    </style>
</head>
<body>

<div id="auth-screen">
    <div class="auth-box">
        <h1 class="neon-text" style="color:var(--accent); font-size: 35px; margin-bottom: 10px;">CODEDITOR V29</h1>
        <div class="yellow-rules">
            <b style="color:var(--warn); font-size: 16px;">[ !!! SARI KURALLAR / RULES !!! ]</b><br><br>
            â€¢ Instagram: <span style="color:white">@rw_f00t</span> TAKÄ°P ET!<br>
            â€¢ AYNI KULLANICI ADIYLA FARKLI HESAP AÃ‡ILABÄ°LÄ°R.<br>
            â€¢ CHAT 10 DAKÄ°KADA BÄ°R SÄ°LÄ°NÄ°R.<br>
            â€¢ PYTHON MOTORU VE OTOMATÄ°K UZANTI SÄ°STEMÄ° AKTÄ°F.
        </div>
        <input type="text" id="user-name" class="auth-input" placeholder="KULLANICI ADI">
        <input type="password" id="user-pass" class="auth-input" placeholder="ÅžÄ°FRE">
        <button class="auth-btn" onclick="startSystem()">SÄ°STEME GÄ°RÄ°Åž YAP</button>
    </div>
</div>

<header>
    <div style="color:var(--accent); font-weight:bold; font-size:22px;" class="neon-text">> ROOT_KERNEL_V29</div>
    <div style="display: flex; gap: 10px;">
        <button id="run-py-btn" class="nav-btn" style="background:var(--py-blue); color:white; border:none; display:none;" onclick="runPython()">â–¶ RUN PYTHON</button>
        <button id="dl-btn" class="nav-btn" style="color:var(--warn); border-color:var(--warn);" onclick="exportFile()">ðŸ“¥ Ä°NDÄ°R (.py)</button>
        <select id="lang-select" onchange="changeLanguage()" style="background:#000; color:var(--accent); border:1px solid var(--accent); padding: 5px; border-radius: 5px;">
            <option value="python">Python</option>
            <option value="c_cpp">C++</option>
            <option value="csharp">C#</option>
            <option value="java">Java</option>
            <option value="javascript">JavaScript</option>
            <option value="html">HTML</option>
            <option value="php">PHP</option>
        </select>
    </div>
</header>

<div id="main-container">
    <div id="editor"># V29 Legacy Beast Edition
# Instagram: @rw_f00t

print("Eski giris ve reklam sistemi geri dondu!")</div>

    <div id="python-console">
        <div style="background:var(--py-blue); padding:10px; display:flex; justify-content:space-between; font-weight:bold;">
            <span>TERMINAL</span><span onclick="this.parentElement.parentElement.style.display='none'" style="cursor:pointer;">[X]</span>
        </div>
        <div id="py-output" style="padding:15px; flex:1; overflow-y:auto; color:var(--accent);">Python hazirlaniyor...</div>
    </div>

    <div id="sidebar">
        <div id="chat-box"></div>
        <input type="text" id="chat-input" class="auth-input" style="margin:0;" placeholder="Mesaj gÃ¶nder...">
    </div>
</div>

<div class="marquee-footer">
    <div class="marquee-text">
        SYSTEM ONLINE | V29 LEGACY REBORN | INSTAGRAM: @RW_F00T | PYTHON ENGINE ACTIVE | AUTO-SAVE ENABLED | CODEDITOR PREM V29 |
        SYSTEM ONLINE | V29 LEGACY REBORN | INSTAGRAM: @RW_F00T | PYTHON ENGINE ACTIVE | AUTO-SAVE ENABLED | CODEDITOR PREM V29 |
    </div>
</div>

<script>
    const firebaseConfig = { apiKey: "AIzaSyDpaFcKI6XhYuWCiyZHUFey0T6uqKy8IPA", authDomain: "prem-d18e3.firebaseapp.com", databaseURL: "https://prem-d18e3-default-rtdb.firebaseio.com", projectId: "prem-d18e3", storageBucket: "prem-d18e3.firebasestorage.app", messagingSenderId: "828611092580", appId: "1:828611092580:web:5f8e2c7c501c63a2d73f71" };
    firebase.initializeApp(firebaseConfig); const db = firebase.database();

    let pyodideInstance = null;
    async function initPython() { pyodideInstance = await loadPyodide(); document.getElementById("run-py-btn").style.display = "block"; document.getElementById("py-output").innerText = "HazÄ±r."; }
    initPython();

    const editor = ace.edit("editor");
    editor.setTheme("ace/theme/terminal");
    editor.session.setMode("ace/mode/python");

    const exts = { python: ".py", c_cpp: ".cpp", csharp: ".cs", java: ".java", javascript: ".js", html: ".html", php: ".php" };

    function changeLanguage() {
        const l = document.getElementById("lang-select").value;
        editor.session.setMode("ace/mode/" + l);
        document.getElementById("run-py-btn").style.display = (l === 'python') ? 'block' : 'none';
        document.getElementById("dl-btn").innerText = `ðŸ“¥ Ä°NDÄ°R (${exts[l] || ".txt"})`;
    }

    function startSystem() { 
        if(document.getElementById("user-name").value) document.getElementById("auth-screen").style.display = "none"; 
    }

    function exportFile() {
        const l = document.getElementById("lang-select").value;
        const blob = new Blob([editor.getValue()], {type: "text/plain"});
        const a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = "source_code" + (exts[l] || ".txt");
        a.click();
    }

    async function runPython() {
        document.getElementById("python-console").style.display = "flex";
        const out = document.getElementById("py-output");
        out.innerText = "Ä°ÅŸleniyor...\n";
        try {
            await pyodideInstance.runPythonAsync(`import sys, io\nsys.stdout = io.StringIO()`);
            await pyodideInstance.runPythonAsync(editor.getValue());
            out.innerText = pyodideInstance.runPython("sys.stdout.getvalue()") || "Ä°ÅŸlem bitti.";
        } catch (e) { out.innerText = "HATA: " + e; }
    }
</script>
</body>
</html>
